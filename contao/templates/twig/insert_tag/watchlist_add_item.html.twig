{% set attributes = attrs()
    .set('href', href|default)
    .addClass('watchlist-add-item')
    .addClass('added', isAdded)
    .set('data-hash', hash)
    .set('data-post-data', postData|json_encode)
    .set('data-item-added-message', ('huh.watchlist.misc.' ~ postData.type ~ '_added_successfully')|trans)
    .set('data-add-item-message', 'huh.watchlist.misc.add_to_watchlist'|trans)
    .set('data-delete-item-message', 'huh.watchlist.misc.delete_from_watchlist'|trans)
    .set('role', 'button')
    .mergeWith(attributes|default)
%}

{% block button %}
<{{ element_type|default('a') }} {{ attributes }}>
{%- block text -%}
    {{ ('huh.watchlist.misc.' ~ (isAdded ? 'delete_from_watchlist' : 'add_to_watchlist'))|trans }}
{%- endblock -%}
</{{ element_type|default('a') }}>
{% endblock %}
